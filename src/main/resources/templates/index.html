<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Just - Online Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="index.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
<!-- Top Header -->
<div class="top-header d-none d-md-block">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col-md-6">
                <div class="d-flex align-items-center">
                    <div class="me-4">
                        <i class="fas fa-map-marker-alt me-2"></i>
                        <span>Toshkent, Yakkasaroy tumani, Shota Rustaveli ko'chasi 12A</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="d-flex justify-content-end align-items-center">
                    <div class="me-4">
                        <i class="fas fa-phone-alt me-2"></i>
                        <a href="tel:+998555068800">+998 (55) 506 88 00</a>
                    </div>
                    <div class="me-4">
                        <i class="fas fa-envelope me-2"></i>
                        <a href="mailto:JustGroup2010@mail.ru">JustGroup2010@mail.ru</a>
                    </div>
                    <div class="dropdown">
                        <a class="dropdown-toggle text-white text-decoration-none" href="#" role="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            O'ZBEKCHA
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                            <li><a class="dropdown-item" href="#">РУССКИЙ</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Header -->
<header class="main-header" id="main-header">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col-lg-2 col-6">
                <a href="index.html" class="d-block">
                    <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3175 3704.16">
                        <defs>
                            <style>.fil1{fill:#232526}.fil0{fill:#232526;fill-rule:nonzero}</style>
                        </defs>
                        <g id="Слой_x0020_1">
                            <g id="_2364923860128">
                                <g>
                                    <path class="fil0" d="M2270.43 951.44l129.14 0c0.07,5.46 -0.03,9.94 -0.03,14.6 0.06,178.7 0.43,357.4 -0.19,536.1 -0.18,51.06 -8.57,100.99 -29.51,148.22 -32.31,72.86 -87.27,119.86 -163.89,139.95 -74.04,19.42 -148.72,19.34 -222.15,-3.33 -85.11,-26.28 -137.88,-85.33 -164.47,-169.06 -13.03,-41.01 -17.39,-83.29 -17.39,-126.15 0.01,-173.85 -0.02,-347.69 -0.04,-521.53 0,-5.8 0,-11.6 0,-18.56l128.91 -0.03c0.2,7.11 0.04,13.7 0.05,20.44 0.07,166.28 -0.06,332.56 0.15,498.84 0.04,30.74 1.15,61.42 10.51,91.27 20.6,65.65 65.62,102.14 132.92,111.62 41.26,5.82 81.04,-0.49 117.13,-21.81 45.65,-26.98 67.87,-69.69 74.97,-120.73 2.9,-20.74 3.68,-41.93 3.72,-62.91 0.29,-165.2 0.17,-330.4 0.17,-495.61l0 -21.32z"/>
                                    <path class="fil0" d="M1301.01 1942.78l0 122.4c-6.54,0.3 -12.29,0.79 -18.02,0.79 -67.48,0.07 -134.96,-0.31 -202.44,0.21 -33.79,0.26 -64.91,10.19 -91.81,31.2 -32.09,25.08 -48.36,72.84 -37.63,108.6 7.24,24.11 23.8,41.08 43.94,54.16 14.34,9.31 30.1,17.07 46.17,22.94 37.46,13.7 75.52,25.72 113.27,38.64 35.76,12.24 71.06,25.71 103.96,44.55 64.29,36.8 98.16,91.96 99.27,166.52 0.51,33.63 -2.26,66.91 -11.85,99.27 -22.82,77.05 -75.45,123.62 -151.03,146.3 -35.99,10.79 -73.04,14.28 -110.38,14.39 -72.33,0.22 -144.66,-0.14 -216.99,-0.25 -5.81,-0.01 -11.6,0 -18.59,0l0 -118.92c7.34,-0.43 14.18,-1.18 21.03,-1.19 45.88,-0.04 91.76,0.56 137.62,-0.03 34.49,-0.44 69.01,-1.53 103.41,-3.87 26.24,-1.79 50.66,-10.74 72.19,-26.21 32.5,-23.34 46.66,-55.94 44.87,-95.17 -1.14,-25.03 -14.58,-44.63 -32.59,-61.27 -19.49,-18.01 -43.24,-28.59 -67.76,-36.92 -44.41,-15.09 -89.53,-28.1 -133.86,-43.42 -26.45,-9.15 -53.24,-18.7 -77.62,-32.15 -62.48,-34.43 -96.41,-87.65 -97.51,-160.16 -0.51,-33.54 0.96,-66.76 9.55,-99.54 17.49,-66.78 56.12,-115.72 119.47,-144.18 31.29,-14.06 64.34,-21.75 98.49,-23.97 24.16,-1.57 48.4,-2.44 72.61,-2.61 54.52,-0.37 109.04,-0.11 163.56,-0.11l18.67 0z"/>
                                    <path class="fil0" d="M2041.36 2790.33c-0.01,-226.64 0.01,-472.37 0.01,-699.01 0,-6.87 0,-13.73 0,-22.48l-235.13 0c-0.09,-14.83 0.06,-102.3 -0.05,-123.67 11.58,-0.04 569.55,-0.11 592.37,-0.01 0.03,14.73 -0.73,95 0.02,123.67 -37.67,-0.13 -74.6,-0.22 -112.08,-0.27 -37.73,-0.04 -75.45,0 -114.99,0 -2.23,40.78 -0.68,80.5 -0.97,120.17 -0.29,39.93 -0.06,79.87 -0.06,119.8l0 119.79 0 119.8 0 119.8c0,39.86 0.09,80.79 0.09,122.43 -7.49,-0.05 -12.16,0.01 -16.92,-0.03 -31.3,0.08 -80.99,0.05 -112.29,0.01z"/>
                                    <path class="fil0" d="M1067.33 946.6l127.94 0c0.42,6.66 1.16,12.86 1.17,19.06 0.07,111.69 0.06,223.38 0.06,335.07 0.01,73.38 0.39,146.77 -0.16,220.14 -0.28,37.26 -3.85,74.26 -14.91,110.2 -29.93,97.25 -97.39,149.67 -196.4,163.4 -22.85,3.16 -46.23,2.7 -69.38,3.52 -5.76,0.2 -11.58,-1.13 -18.36,-1.86l0 -123.24c5.72,0 10.86,0.22 15.98,-0.04 17.15,-0.85 34.8,0.41 51.35,-3.24 52.92,-11.69 83.5,-47.2 96.1,-98.31 4.59,-18.64 6.32,-38.41 6.37,-57.66 0.45,-183.45 0.25,-366.91 0.24,-550.36 0,-4.8 0,-9.61 0,-16.68z"/>
                                    <rect class="fil1" x="775.3" y="958.6" width="126.36" height="136.94"/>
                                </g>
                                <path class="fil1" d="M219 498.7l2735.78 0 0 2743.5 -2735.78 0 0 -2743.5zm-126.52 2865.57l2990.04 0 0 -2989.12 -2990.04 0 0 2989.12z"/>
                            </g>
                        </g>
                    </svg>
                </a>
            </div>
            <div class="col-lg-7 d-none d-lg-block">
                <nav class="navbar navbar-expand-lg">
                    <div class="collapse navbar-collapse">
                        <ul class="navbar-nav">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    Katalog
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdown1" id="category-dropdown-menu">
                                    <!-- Categories will be loaded here -->
                                    <li><a class="dropdown-item" href="catalog.html"><i class="fas fa-list me-2"></i>Barcha kategoriyalar</a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown2" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    Kompaniya
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdown2">
                                    <li><a class="dropdown-item" href="#"><i class="fas fa-info-circle me-2"></i>Brend haqida</a></li>
                                    <li><a class="dropdown-item" href="#"><i class="fas fa-briefcase me-2"></i>Vakansiyalar</a></li>
                                    <li><a class="dropdown-item" href="#"><i class="fas fa-shield-alt me-2"></i>Maxfiylik siyosati</a></li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#"><i class="fas fa-undo me-2"></i>Qaytish shartlari</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#"><i class="fas fa-truck me-2"></i>Yetkazib berish</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <div class="col-lg-3 col-6">
                <div class="d-flex justify-content-end align-items-center">
                    <div class="search-form d-none d-lg-block me-3">
                        <input type="text" class="search-input" placeholder="Qidirish" aria-label="Search products">
                        <button type="submit" class="search-button" aria-label="Search">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div class="d-flex align-items-center">
                        <button class="header-icon d-none d-lg-block me-2" id="auth-button" aria-label="User account">
                            <i class="fas fa-user"></i>
                        </button>
                        <div class="position-relative">
                            <button class="header-icon me-2" id="wishlist-toggle" aria-label="Wishlist">
                                <i class="fas fa-heart"></i>
                                <span class="badge" id="wishlist-count">0</span>
                            </button>
                            <div class="wishlist-dropdown" id="wishlist-dropdown">
                                <div class="dropdown-header">
                                    <i class="fas fa-heart me-2"></i>Sevimlilar
                                </div>
                                <div id="wishlist-items">
                                    <div class="empty-state">
                                        <i class="fas fa-heart"></i>
                                        <p>Sevimlilar ro'yxati bo'sh</p>
                                    </div>
                                </div>
                                <div class="dropdown-footer" id="wishlist-footer" style="display: none;">
                                    <div class="dropdown-actions">
                                        <button class="btn btn-outline-dark btn-sm flex-fill" onclick="clearWishlist()">Tozalash</button>
                                        <button class="btn btn-dark btn-sm flex-fill">Ko'rish</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="position-relative">
                            <button class="header-icon" id="cart-toggle" aria-label="Shopping cart">
                                <i class="fas fa-shopping-cart"></i>
                                <span class="badge" id="cart-count">0</span>
                            </button>
                            <div class="cart-dropdown" id="cart-dropdown">
                                <div class="dropdown-header">
                                    <i class="fas fa-shopping-cart me-2"></i>Savat
                                </div>
                                <div id="cart-items">
                                    <div class="empty-state">
                                        <i class="fas fa-shopping-cart"></i>
                                        <p>Savat bo'sh</p>
                                    </div>
                                </div>
                                <div class="dropdown-footer" id="cart-footer" style="display: none;">
                                    <div class="dropdown-total">
                                        <span>Jami:</span>
                                        <span id="cart-total">0 So'm</span>
                                    </div>
                                    <div class="dropdown-actions">
                                        <button class="btn btn-outline-dark btn-sm flex-fill" onclick="clearCart()">Tozalash</button>
                                        <button class="btn btn-dark btn-sm flex-fill">Buyurtma berish</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-slider">
        <div class="hero-slide active" style="background-image: url(https://hebbkx1anhila5yf.public.blob.vercel-storage.com/clothes-c2rHrnywkQc5h02CQbohfljeGXSq4M.jpeg);">
            <div class="container-fluid">
                <div class="hero-content">
                    <h1 class="hero-title">Sifatli mahsulotlar</h1>
                    <p class="hero-text">Eng yaxshi brendlardan sifatli mahsulotlarni eng qulay narxlarda sotib oling</p>
                    <a href="catalog.html" class="btn-custom">Katalogni ko'rish</a>
                </div>
            </div>
        </div>
        <div class="hero-slide" style="background-image: url(https://hebbkx1anhila5yf.public.blob.vercel-storage.com/clothes-c2rHrnywkQc5h02CQbohfljeGXSq4M.jpeg);">
            <div class="container-fluid">
                <div class="hero-content">
                    <h1 class="hero-title">Tez yetkazib berish</h1>
                    <p class="hero-text">Buyurtmangizni 24 soat ichida yetkazib beramiz</p>
                    <a href="#" class="btn-custom">Batafsil</a>
                </div>
            </div>
        </div>
        <div class="hero-slide" style="background-image: url(https://hebbkx1anhila5yf.public.blob.vercel-storage.com/clothes-c2rHrnywkQc5h02CQbohfljeGXSq4M.jpeg);">
            <div class="container-fluid">
                <div class="hero-content">
                    <h1 class="hero-title">Chegirmalar</h1>
                    <p class="hero-text">50% gacha chegirmalar va maxsus takliflar</p>
                    <a href="#" class="btn-custom">Chegirmalarni ko'rish</a>
                </div>
            </div>
        </div>
    </div>
    <div class="hero-controls">
        <span class="hero-dot active" data-slide="0"></span>
        <span class="hero-dot" data-slide="1"></span>
        <span class="hero-dot" data-slide="2"></span>
    </div>
    <div class="hero-arrows">
        <button class="hero-arrow" id="hero-prev">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="hero-arrow" id="hero-next">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>
</section>

<!-- Categories Section -->
<section class="section-padding">
    <div class="container-fluid">
        <div class="section-title">
            <h2>Kategoriyalar</h2>
            <p class="section-subtitle">Bizning keng kategoriyalar tanlovimizni ko'ring</p>
        </div>
        <div class="row" id="categories-grid">
            <!-- Categories will be loaded here -->
        </div>
    </div>
</section>

<!-- Featured Products Section -->
<section class="section-padding" style="background-color: #fafafa;">
    <div class="container-fluid">
        <div class="section-title">
            <h2>Tavsiya etilgan mahsulotlar</h2>
            <p class="section-subtitle">Eng yaxshi va mashhur mahsulotlarimiz</p>
        </div>

        <div class="featured-tabs">
            <button class="featured-tab active" data-tab="new">Yangi</button>
            <button class="featured-tab" data-tab="popular">Mashhur</button>
            <button class="featured-tab" data-tab="sale">Chegirmada</button>
        </div>

        <div class="featured-content active" id="new-products">
            <div class="row" id="new-products-grid">
                <!-- New products will be loaded here -->
            </div>
        </div>

        <div class="featured-content" id="popular-products">
            <div class="row" id="popular-products-grid">
                <!-- Popular products will be loaded here -->
            </div>
        </div>

        <div class="featured-content" id="sale-products">
            <div class="row" id="sale-products-grid">
                <!-- Sale products will be loaded here -->
            </div>
        </div>
    </div>
</section>

<!-- Banner Section -->
<section class="section-padding">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="banner">
                    <img src="/placeholder.svg?height=350&width=600" alt="Banner" class="banner-img">
                    <div class="banner-content">
                        <p class="banner-subtitle">Maxsus taklif</p>
                        <h3 class="banner-title">Elektronika bo'limida 30% chegirma</h3>
                        <p class="banner-text">Barcha elektronika mahsulotlariga katta chegirmalar</p>
                        <button class="banner-btn">Xarid qilish</button>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 mb-4">
                <div class="banner">
                    <img src="/placeholder.svg?height=350&width=600" alt="Banner" class="banner-img">
                    <div class="banner-content">
                        <p class="banner-subtitle">Yangi kolleksiya</p>
                        <h3 class="banner-title">Kiyim-kechak yangi modellari</h3>
                        <p class="banner-text">Eng so'nggi moda tendensiyalari</p>
                        <button class="banner-btn">Ko'rish</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter Section -->
<section class="newsletter-section section-padding">
    <div class="container-fluid">
        <div class="newsletter-content">
            <h2 class="newsletter-title">Yangiliklar va takliflardan xabardor bo'ling</h2>
            <p class="newsletter-text">Email manzilingizni qoldiring va eng so'nggi yangiliklar va maxsus takliflardan birinchi bo'lib xabardor bo'ling</p>
            <form class="newsletter-form" id="newsletter-form">
                <input type="email" class="newsletter-input" placeholder="Email manzilingiz" required>
                <button type="submit" class="newsletter-button">Obuna bo'lish</button>
            </form>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-3 col-md-6 mb-4">
                <svg class="footer-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3175 3704.16">
                    <defs>
                        <style>.fil1{fill:#ffffff}.fil0{fill:#ffffff;fill-rule:nonzero}</style>
                    </defs>
                    <g id="Слой_x0020_1">
                        <g id="_2364923860128">
                            <g>
                                <path class="fil0" d="M2270.43 951.44l129.14 0c0.07,5.46 -0.03,9.94 -0.03,14.6 0.06,178.7 0.43,357.4 -0.19,536.1 -0.18,51.06 -8.57,100.99 -29.51,148.22 -32.31,72.86 -87.27,119.86 -163.89,139.95 -74.04,19.42 -148.72,19.34 -222.15,-3.33 -85.11,-26.28 -137.88,-85.33 -164.47,-169.06 -13.03,-41.01 -17.39,-83.29 -17.39,-126.15 0.01,-173.85 -0.02,-347.69 -0.04,-521.53 0,-5.8 0,-11.6 0,-18.56l128.91 -0.03c0.2,7.11 0.04,13.7 0.05,20.44 0.07,166.28 -0.06,332.56 0.15,498.84 0.04,30.74 1.15,61.42 10.51,91.27 20.6,65.65 65.62,102.14 132.92,111.62 41.26,5.82 81.04,-0.49 117.13,-21.81 45.65,-26.98 67.87,-69.69 74.97,-120.73 2.9,-20.74 3.68,-41.93 3.72,-62.91 0.29,-165.2 0.17,-330.4 0.17,-495.61l0 -21.32z"/>
                                <path class="fil0" d="M1301.01 1942.78l0 122.4c-6.54,0.3 -12.29,0.79 -18.02,0.79 -67.48,0.07 -134.96,-0.31 -202.44,0.21 -33.79,0.26 -64.91,10.19 -91.81,31.2 -32.09,25.08 -48.36,72.84 -37.63,108.6 7.24,24.11 23.8,41.08 43.94,54.16 14.34,9.31 30.1,17.07 46.17,22.94 37.46,13.7 75.52,25.72 113.27,38.64 35.76,12.24 71.06,25.71 103.96,44.55 64.29,36.8 98.16,91.96 99.27,166.52 0.51,33.63 -2.26,66.91 -11.85,99.27 -22.82,77.05 -75.45,123.62 -151.03,146.3 -35.99,10.79 -73.04,14.28 -110.38,14.39 -72.33,0.22 -144.66,-0.14 -216.99,-0.25 -5.81,-0.01 -11.6,0 -18.59,0l0 -118.92c7.34,-0.43 14.18,-1.18 21.03,-1.19 45.88,-0.04 91.76,0.56 137.62,-0.03 34.49,-0.44 69.01,-1.53 103.41,-3.87 26.24,-1.79 50.66,-10.74 72.19,-26.21 32.5,-23.34 46.66,-55.94 44.87,-95.17 -1.14,-25.03 -14.58,-44.63 -32.59,-61.27 -19.49,-18.01 -43.24,-28.59 -67.76,-36.92 -44.41,-15.09 -89.53,-28.1 -133.86,-43.42 -26.45,-9.15 -53.24,-18.7 -77.62,-32.15 -62.48,-34.43 -96.41,-87.65 -97.51,-160.16 -0.51,-33.54 0.96,-66.76 9.55,-99.54 17.49,-66.78 56.12,-115.72 119.47,-144.18 31.29,-14.06 64.34,-21.75 98.49,-23.97 24.16,-1.57 48.4,-2.44 72.61,-2.61 54.52,-0.37 109.04,-0.11 163.56,-0.11l18.67 0z"/>
                                <path class="fil0" d="M2041.36 2790.33c-0.01,-226.64 0.01,-472.37 0.01,-699.01 0,-6.87 0,-13.73 0,-22.48l-235.13 0c-0.09,-14.83 0.06,-102.3 -0.05,-123.67 11.58,-0.04 569.55,-0.11 592.37,-0.01 0.03,14.73 -0.73,95 0.02,123.67 -37.67,-0.13 -74.6,-0.22 -112.08,-0.27 -37.73,-0.04 -75.45,0 -114.99,0 -2.23,40.78 -0.68,80.5 -0.97,120.17 -0.29,39.93 -0.06,79.87 -0.06,119.8l0 119.79 0 119.8 0 119.8c0,39.86 0.09,80.79 0.09,122.43 -7.49,-0.05 -12.16,0.01 -16.92,-0.03 -31.3,0.08 -80.99,0.05 -112.29,0.01z"/>
                                <path class="fil0" d="M1067.33 946.6l127.94 0c0.42,6.66 1.16,12.86 1.17,19.06 0.07,111.69 0.06,223.38 0.06,335.07 0.01,73.38 0.39,146.77 -0.16,220.14 -0.28,37.26 -3.85,74.26 -14.91,110.2 -29.93,97.25 -97.39,149.67 -196.4,163.4 -22.85,3.16 -46.23,2.7 -69.38,3.52 -5.76,0.2 -11.58,-1.13 -18.36,-1.86l0 -123.24c5.72,0 10.86,0.22 15.98,-0.04 17.15,-0.85 34.8,0.41 51.35,-3.24 52.92,-11.69 83.5,-47.2 96.1,-98.31 4.59,-18.64 6.32,-38.41 6.37,-57.66 0.45,-183.45 0.25,-366.91 0.24,-550.36 0,-4.8 0,-9.61 0,-16.68z"/>
                                <rect class="fil1" x="775.3" y="958.6" width="126.36" height="136.94"/>
                            </g>
                            <path class="fil1" d="M219 498.7l2735.78 0 0 2743.5 -2735.78 0 0 -2743.5zm-126.52 2865.57l2990.04 0 0 -2989.12 -2990.04 0 0 2989.12z"/>
                        </g>
                    </g>
                </svg>
                <p class="footer-about">
                    Just Online Store - O'zbekistondagi eng yirik onlayn do'konlardan biri. Biz sizga eng sifatli mahsulotlarni eng qulay narxlarda taklif etamiz.
                </p>
                <div class="social-links">
                    <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-telegram-plane"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="col-lg-2 col-md-6 mb-4">
                <h3 class="footer-title">Kompaniya</h3>
                <ul class="footer-links">
                    <li><a href="#">Biz haqimizda</a></li>
                    <li><a href="#">Vakansiyalar</a></li>
                    <li><a href="#">Yangiliklar</a></li>
                    <li><a href="#">Hamkorlik</a></li>
                    <li><a href="#">Aloqa</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-md-6 mb-4">
                <h3 class="footer-title">Xizmatlar</h3>
                <ul class="footer-links">
                    <li><a href="#">Yetkazib berish</a></li>
                    <li><a href="#">To'lov usullari</a></li>
                    <li><a href="#">Qaytarish</a></li>
                    <li><a href="#">Kafolat</a></li>
                    <li><a href="#">Yordam</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-md-6 mb-4">
                <h3 class="footer-title">Kategoriyalar</h3>
                <ul class="footer-links" id="footer-categories">
                    <!-- Categories will be loaded here -->
                </ul>
            </div>
            <div class="col-lg-3 col-md-6 mb-4">
                <h3 class="footer-title">Aloqa</h3>
                <ul class="footer-contact">
                    <li>
                        <i class="fas fa-map-marker-alt footer-contact-icon"></i>
                        <span>Toshkent, Yakkasaroy tumani, Shota Rustaveli ko'chasi 12A</span>
                    </li>
                    <li>
                        <i class="fas fa-phone-alt footer-contact-icon"></i>
                        <span>+998 (55) 506 88 00</span>
                    </li>
                    <li>
                        <i class="fas fa-envelope footer-contact-icon"></i>
                        <span>JustGroup2010@mail.ru</span>
                    </li>
                    <li>
                        <i class="fas fa-clock footer-contact-icon"></i>
                        <span>Dush-Juma: 9:00 - 18:00</span>
                    </li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Just Online Store. Barcha huquqlar himoyalangan.</p>
        </div>
    </div>
</footer>

<!-- Back to Top Button -->
<button class="back-to-top" id="back-to-top">
    <i class="fas fa-chevron-up"></i>
</button>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // ======================================================
    // API CONFIGURATION
    // ======================================================
    const API_BASE_URL = 'http://16.171.152.61';

    // Axios instance with authentication interceptors
    const api = axios.create({
        baseURL: API_BASE_URL,
        timeout: 10000,
        headers: {
            'Content-Type': 'application/json'
        }
    });

    // ======================================================
    // GLOBAL VARIABLES
    // ======================================================
    let currentSlide = 0;
    let slideInterval;
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
    let allCategories = [];
    let allProducts = [];

    // ======================================================
    // INITIALIZATION
    // ======================================================
    document.addEventListener('DOMContentLoaded', function() {
        initializeHeroSlider();
        initializeScrollEffects();
        initializeDropdowns();
        initializeFeaturedTabs();
        initializeNewsletterForm();
        loadCategories();
        loadProducts();
        updateCartBadge();
        updateWishlistBadge();
        initializeSearch();
    });

    // ======================================================
    // API FUNCTIONS
    // ======================================================
    async function loadCategories() {
        try {
            const response = await api.get('/api/v1/category/all-active');
            allCategories = response.data || [];
            renderCategories();
            renderCategoryDropdown();
            renderFooterCategories();
        } catch (error) {
            console.error('Kategoriyalarni yuklashda xatolik:', error);
        }
    }

    async function loadProducts() {
        try {
            const response = await api.get('/api/v1/product');
            allProducts = response.data || [];
            renderFeaturedProducts();
        } catch (error) {
            console.error('Mahsulotlarni yuklashda xatolik:', error);
        }
    }

    // ======================================================
    // HERO SLIDER
    // ======================================================
    function initializeHeroSlider() {
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.hero-dot');
        const prevBtn = document.getElementById('hero-prev');
        const nextBtn = document.getElementById('hero-next');

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
            currentSlide = index;
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        }

        // Auto-play
        slideInterval = setInterval(nextSlide, 5000);

        // Event listeners
        nextBtn.addEventListener('click', () => {
            clearInterval(slideInterval);
            nextSlide();
            slideInterval = setInterval(nextSlide, 5000);
        });

        prevBtn.addEventListener('click', () => {
            clearInterval(slideInterval);
            prevSlide();
            slideInterval = setInterval(nextSlide, 5000);
        });

        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                clearInterval(slideInterval);
                showSlide(index);
                slideInterval = setInterval(nextSlide, 5000);
            });
        });

        // Pause on hover
        const heroSection = document.querySelector('.hero-section');
        heroSection.addEventListener('mouseenter', () => clearInterval(slideInterval));
        heroSection.addEventListener('mouseleave', () => {
            slideInterval = setInterval(nextSlide, 5000);
        });
    }

    // ======================================================
    // SCROLL EFFECTS
    // ======================================================
    function initializeScrollEffects() {
        const header = document.getElementById('main-header');
        const backToTop = document.getElementById('back-to-top');

        window.addEventListener('scroll', () => {
            // Header scroll effect
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
                backToTop.classList.add('show');
            } else {
                header.classList.remove('scrolled');
                backToTop.classList.remove('show');
            }
        });

        // Back to top functionality
        backToTop.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }

    // ======================================================
    // DROPDOWN FUNCTIONALITY
    // ======================================================
    function initializeDropdowns() {
        const cartToggle = document.getElementById('cart-toggle');
        const cartDropdown = document.getElementById('cart-dropdown');
        const wishlistToggle = document.getElementById('wishlist-toggle');
        const wishlistDropdown = document.getElementById('wishlist-dropdown');

        // Cart dropdown
        cartToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            cartDropdown.classList.toggle('show');
            wishlistDropdown.classList.remove('show');
        });

        // Wishlist dropdown
        wishlistToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            wishlistDropdown.classList.toggle('show');
            cartDropdown.classList.remove('show');
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', () => {
            cartDropdown.classList.remove('show');
            wishlistDropdown.classList.remove('show');
        });

        // Prevent dropdown from closing when clicking inside
        cartDropdown.addEventListener('click', (e) => e.stopPropagation());
        wishlistDropdown.addEventListener('click', (e) => e.stopPropagation());
    }

    // ======================================================
    // FEATURED TABS
    // ======================================================
    function initializeFeaturedTabs() {
        const tabs = document.querySelectorAll('.featured-tab');
        const contents = document.querySelectorAll('.featured-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetTab = tab.getAttribute('data-tab');

                tabs.forEach(t => t.classList.remove('active'));
                contents.forEach(c => c.classList.remove('active'));

                tab.classList.add('active');
                document.getElementById(`${targetTab}-products`).classList.add('active');
            });
        });
    }

    // ======================================================
    // NEWSLETTER
    // ======================================================
    function initializeNewsletterForm() {
        const form = document.getElementById('newsletter-form');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = form.querySelector('input[type="email"]').value;

            try {
                await api.post('/api/newsletter/subscribe', { email });
                showNotification('success', 'Muvaffaqiyat', 'Yangiliklar ro\'yxatiga muvaffaqiyatli qo\'shildingiz');
                form.reset();
            } catch (error) {
                showNotification('error', 'Xatolik', 'Obuna bo\'lishda xatolik yuz berdi');
            }
        });
    }

    // ======================================================
    // SEARCH FUNCTIONALITY
    // ======================================================
    function initializeSearch() {
        const searchInputs = document.querySelectorAll('.search-input');
        const searchButtons = document.querySelectorAll('.search-button');

        searchInputs.forEach((input, index) => {
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    performSearch(input.value);
                }
            });
        });

        searchButtons.forEach((button, index) => {
            button.addEventListener('click', () => {
                const input = searchInputs[index];
                performSearch(input.value);
            });
        });
    }

    function performSearch(query) {
        if (query.trim()) {
            window.location.href = `catalog.html?search=${encodeURIComponent(query)}`;
        }
    }

    // ======================================================
    // RENDER FUNCTIONS
    // ======================================================
    function renderCategories() {
        const categoriesGrid = document.getElementById('categories-grid');

        if (!allCategories || allCategories.length === 0) {
            categoriesGrid.innerHTML = '<div class="col-12 text-center"><p>Kategoriyalar yuklanmoqda...</p></div>';
            return;
        }

        const categoriesHTML = allCategories.slice(0, 6).map(category => `
        <div class="col-lg-2 col-md-4 col-6 mb-4">
            <div class="category-card" onclick="goToCategory(${category.id})">
                <img src="/placeholder.svg?height=280&width=280" alt="${category.name}" class="category-img">
                <div class="category-overlay">
                    <h3 class="category-title">${category.name}</h3>
                    <button class="category-btn">Ko'rish</button>
                </div>
            </div>
        </div>
    `).join('');

        categoriesGrid.innerHTML = categoriesHTML;
    }

    function renderCategoryDropdown() {
        const dropdown = document.getElementById('category-dropdown-menu');

        if (!allCategories || allCategories.length === 0) return;

        const categoriesHTML = allCategories.map(category => `
        <li><a class="dropdown-item" href="catalog.html?category=${category.id}">
            <i class="fas fa-tag me-2"></i>${category.name}
        </a></li>
    `).join('');

        dropdown.innerHTML = categoriesHTML + '<li><hr class="dropdown-divider"></li><li><a class="dropdown-item" href="catalog.html"><i class="fas fa-list me-2"></i>Barcha kategoriyalar</a></li>';
    }

    function renderFooterCategories() {
        const footerCategories = document.getElementById('footer-categories');

        if (!allCategories || allCategories.length === 0) return;

        const categoriesHTML = allCategories.slice(0, 5).map(category => `
        <li><a href="catalog.html?category=${category.id}">${category.name}</a></li>
    `).join('');

        footerCategories.innerHTML = categoriesHTML;
    }

    function renderFeaturedProducts() {
        if (!allProducts || allProducts.length === 0) return;

        // Render new products
        const newProducts = allProducts.slice(0, 8);
        renderProductGrid('new-products-grid', newProducts);

        // Render popular products (simulate by shuffling)
        const popularProducts = [...allProducts].sort(() => 0.5 - Math.random()).slice(0, 8);
        renderProductGrid('popular-products-grid', popularProducts);

        // Render sale products (simulate by taking random products)
        const saleProducts = [...allProducts].sort(() => 0.5 - Math.random()).slice(0, 8);
        renderProductGrid('sale-products-grid', saleProducts);
    }

    function renderProductGrid(gridId, products) {
        const grid = document.getElementById(gridId);

        const productsHTML = products.map(product => {
            const mainImage = product.attachmentIds && product.attachmentIds.length > 0
                ? `${API_BASE_URL}/api/v1/attachment/${product.attachmentIds[0].id}`
                : `${API_BASE_URL}/api/v1/attachment/1`;

            const isInCart = cart.some(item => item.id === product.id);
            const isInWishlist = wishlist.some(item => item.id === product.id);

            return `
            <div class="col-lg-3 col-md-4 col-6 mb-4">
                <div class="product-card">
                    <div class="product-badge new">Yangi</div>
                    <div class="product-img-container">
                        <img src="${mainImage}" alt="${product.name}" class="product-img">
                        <div class="product-actions">
                            <button class="product-action" onclick="quickView(${product.id})" title="Tezkor ko'rish">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="product-action ${isInWishlist ? 'active' : ''}" onclick="toggleWishlist(${product.id})" title="Sevimlilar">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    </div>
                    <div class="product-content">
                        <div class="product-category">Kategoriya</div>
                        <h3 class="product-title">
                            <a href="#">${product.name}</a>
                        </h3>
                        <div class="product-price">
                            <span class="new-price">${formatPrice(product.price)} So'm</span>
                        </div>
                        <div class="product-rating">
                            <i class="fas fa-star rating-star"></i>
                            <i class="fas fa-star rating-star"></i>
                            <i class="fas fa-star rating-star"></i>
                            <i class="fas fa-star rating-star"></i>
                            <i class="fas fa-star rating-star"></i>
                            <span class="rating-count">(${Math.floor(Math.random() * 100) + 1})</span>
                        </div>
                        <button class="add-to-cart ${isInCart ? 'in-cart' : ''}" onclick="toggleCart(${product.id})" ${product.amount === 0 ? 'disabled' : ''}>
                            ${isInCart ? 'Savatdan olib tashlash' : 'Savatga qo\'shish'}
                        </button>
                    </div>
                </div>
            </div>
        `;
        }).join('');

        grid.innerHTML = productsHTML;
    }

    // ======================================================
    // CART & WISHLIST FUNCTIONS
    // ======================================================
    function toggleCart(productId) {
        const product = allProducts.find(p => p.id === productId);
        if (!product || product.amount === 0) return;

        const existingIndex = cart.findIndex(item => item.id === productId);

        if (existingIndex > -1) {
            cart.splice(existingIndex, 1);
            showNotification('info', 'Savatdan olib tashlandi', `"${product.name}" savatdan olib tashlandi`);
        } else {
            cart.push({
                id: product.id,
                name: product.name,
                price: product.price,
                image: product.attachmentIds && product.attachmentIds.length > 0
                    ? `${API_BASE_URL}/api/v1/attachment/${product.attachmentIds[0].id}`
                    : `${API_BASE_URL}/api/v1/attachment/1`,
                quantity: 1,
                maxAmount: product.amount
            });
            showNotification('success', 'Savatga qo\'shildi', `"${product.name}" savatga qo'shildi`);
        }

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartBadge();
        updateCartDropdown();
        renderFeaturedProducts(); // Re-render to update button states
    }

    function toggleWishlist(productId) {
        const product = allProducts.find(p => p.id === productId);
        if (!product) return;

        const existingIndex = wishlist.findIndex(item => item.id === productId);

        if (existingIndex > -1) {
            wishlist.splice(existingIndex, 1);
            showNotification('info', 'Sevimlilardan olib tashlandi', `"${product.name}" sevimlilardan olib tashlandi`);
        } else {
            wishlist.push({
                id: product.id,
                name: product.name,
                price: product.price,
                image: product.attachmentIds && product.attachmentIds.length > 0
                    ? `${API_BASE_URL}/api/v1/attachment/${product.attachmentIds[0].id}`
                    : `${API_BASE_URL}/api/v1/attachment/1`
            });
            showNotification('success', 'Sevimlilarga qo\'shildi', `"${product.name}" sevimlilarga qo'shildi`);
        }

        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        updateWishlistBadge();
        updateWishlistDropdown();
        renderFeaturedProducts(); // Re-render to update button states
    }

    function updateCartBadge() {
        const badge = document.getElementById('cart-count');
        badge.textContent = cart.length;
    }

    function updateWishlistBadge() {
        const badge = document.getElementById('wishlist-count');
        badge.textContent = wishlist.length;
    }

    function updateCartDropdown() {
        const cartItems = document.getElementById('cart-items');
        const cartFooter = document.getElementById('cart-footer');
        const cartTotal = document.getElementById('cart-total');

        if (cart.length === 0) {
            cartItems.innerHTML = `
            <div class="empty-state">
                <i class="fas fa-shopping-cart"></i>
                <p>Savat bo'sh</p>
            </div>
        `;
            cartFooter.style.display = 'none';
        } else {
            const itemsHTML = cart.map(item => `
            <div class="dropdown-item-custom">
                <img src="${item.image}" alt="${item.name}" class="item-image">
                <div class="item-details">
                    <div class="item-name">${item.name}</div>
                    <div class="item-price">${formatPrice(item.price)} So'm</div>
                    <div class="item-quantity">Miqdor: ${item.quantity}</div>
                </div>
                <button class="item-remove" onclick="removeFromCart(${item.id})">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `).join('');

            cartItems.innerHTML = itemsHTML;

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartTotal.textContent = formatPrice(total) + ' So\'m';
            cartFooter.style.display = 'block';
        }
    }

    function updateWishlistDropdown() {
        const wishlistItems = document.getElementById('wishlist-items');
        const wishlistFooter = document.getElementById('wishlist-footer');

        if (wishlist.length === 0) {
            wishlistItems.innerHTML = `
            <div class="empty-state">
                <i class="fas fa-heart"></i>
                <p>Sevimlilar ro'yxati bo'sh</p>
            </div>
        `;
            wishlistFooter.style.display = 'none';
        } else {
            const itemsHTML = wishlist.map(item => `
            <div class="dropdown-item-custom">
                <img src="${item.image}" alt="${item.name}" class="item-image">
                <div class="item-details">
                    <div class="item-name">${item.name}</div>
                    <div class="item-price">${formatPrice(item.price)} So'm</div>
                </div>
                <button class="item-remove" onclick="removeFromWishlist(${item.id})">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `).join('');

            wishlistItems.innerHTML = itemsHTML;
            wishlistFooter.style.display = 'block';
        }
    }

    function removeFromCart(productId) {
        cart = cart.filter(item => item.id !== productId);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartBadge();
        updateCartDropdown();
        renderFeaturedProducts();
    }

    function removeFromWishlist(productId) {
        wishlist = wishlist.filter(item => item.id !== productId);
        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        updateWishlistBadge();
        updateWishlistDropdown();
        renderFeaturedProducts();
    }

    function clearCart() {
        cart = [];
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartBadge();
        updateCartDropdown();
        renderFeaturedProducts();
        showNotification('info', 'Savat tozalandi', 'Barcha mahsulotlar savatdan olib tashlandi');
    }

    function clearWishlist() {
        wishlist = [];
        localStorage.setItem('wishlist', JSON.stringify(wishlist));
        updateWishlistBadge();
        updateWishlistDropdown();
        renderFeaturedProducts();
        showNotification('info', 'Sevimlilar tozalandi', 'Barcha mahsulotlar sevimlilardan olib tashlandi');
    }

    // ======================================================
    // UTILITY FUNCTIONS
    // ======================================================
    function formatPrice(price) {
        return new Intl.NumberFormat('uz-UZ').format(price);
    }

    function goToCategory(categoryId) {
        window.location.href = `catalog.html?category=${categoryId}`;
    }

    function quickView(productId) {
        showNotification('info', 'Tezkor ko\'rish', 'Mahsulot tafsilotlari ochilmoqda...');
    }

    function showNotification(type, title, message) {
        const notification = document.createElement('div');
        notification.className = `alert alert-${type === 'success' ? 'success' : type === 'error' ? 'danger' : 'info'} alert-dismissible fade show position-fixed`;
        notification.style.cssText = 'top: 20px; right: 20px; z-index: 9999; max-width: 300px;';

        notification.innerHTML = `
        <strong>${title}</strong> ${message}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    `;

        document.body.appendChild(notification);

        setTimeout(() =>  {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 5000);
    }

    // Initialize dropdowns on page load
    document.addEventListener('DOMContentLoaded', function() {
        updateCartDropdown();
        updateWishlistDropdown();
    });
</script>
</body>
</html>
